## 定义
从线性代数的角度看，一个对称矩阵 $M$ 被称为正定的，如果对于任何非零向量 $x$，都满足：

$$x^T M x > 0$$**判定方法：**

- **特征值：** 矩阵的所有特征值（Eigenvalues）都必须严格大于 0。
    
- **行列式：** 所有的顺序主子式（Leading Principal Minors）都大于 0。
## 为什么要保证正定性？
#### A. 保证“椭球”不塌陷

一个 3D 高斯体在空间中表现为一个**椭球**。

- **特征向量**决定了椭球长轴和短轴的方向。
    
- **特征值**决定了这些轴的长度（即方差）。
    
- **如果不正定（特征值为 0 或负数）：** 椭球会在某个方向上塌陷成一个平面、一条线，甚至变成一个物理上不可能存在的“负距离”形状。这会导致渲染公式直接崩溃。
#### B. 确保指数函数收敛

回到高斯分布的表达式：

$$G(x) = \exp\left(-\frac{1}{2}(x-\mu)^T \Sigma^{-1} (x-\mu)\right)$$

- 如果 $\Sigma$ 是正定的，那么项 $\frac{1}{2}(x-\mu)^T \Sigma^{-1} (x-\mu)$ 永远是正数。
    
- 由于前面带个负号，整个指数部分就是 $\exp(-\text{正数})$，随着离开中心点越远，值越趋近于 0，形成平滑的衰减。
    
- **如果不正定：** 离开中心点后，高斯值可能会变成 $\exp(+\text{正数})$，导致能量无限发散，像素颜色直接变成无穷大（NaN）。
    

#### C. 确保矩阵可逆

渲染公式中需要计算 $\Sigma^{-1}$。

- 正定矩阵的一个性质是它一定是**满秩且可逆**的。
    
- 如果矩阵不正定（例如特征值为 0），行列式为 0，矩阵不可逆，计算机程序会因为“除以零”错误而跳出。